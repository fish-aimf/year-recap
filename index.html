<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recap/Credits Maker</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
</head>
<body>
    <div class="app-container">
        <div class="sidebar">
            <h1>Credits Maker</h1>
            
            <!-- STEP 1: Project Setup (ALWAYS VISIBLE AT TOP) -->
            <section class="panel priority-panel">
                <h2>üìê Step 1: Project Setup</h2>
                <div class="setup-info">Choose your video format first - this cannot be changed later!</div>
                
                <label>Resolution:</label>
                <select id="exportRes">
                    <option value="1080">1080p (16:9) - YouTube</option>
                    <option value="720">720p (16:9) - YouTube</option>
                    <option value="shorts">YouTube Shorts (9:16)</option>
                    <option value="instagram">Instagram Story (9:16)</option>
                </select>
                
                <label>Frame Rate:</label>
                <select id="exportFps">
                    <option value="30" selected>30 FPS (Recommended)</option>
                    <option value="24">24 FPS (Cinematic)</option>
                    <option value="60">60 FPS (Smooth)</option>
                </select>
                
                <button id="lockSettingsBtn" class="btn-lock">üîí Lock & Continue</button>
            </section>
            
            <!-- STEP 2: Content Creation (HIDDEN UNTIL LOCKED) -->
            <div id="contentSection" style="display:none;">
                
                <section class="panel">
                    <h2>üé® Step 2: Background</h2>
                    <select id="bgType">
                        <option value="solid">Solid Color</option>
                        <option value="gradient">Gradient</option>
                        <option value="image">Image</option>
                        <option value="video">Video</option>
                        <option value="url">Image URL</option>
                    </select>
                    
                    <div id="solidControls" class="bg-controls">
                        <input type="color" id="bgColor" value="#000000">
                    </div>
                    
                    <div id="gradientControls" class="bg-controls hidden">
                        <input type="color" id="gradColor1" value="#000000">
                        <input type="color" id="gradColor2" value="#333333">
                        <select id="gradDir">
                            <option value="to bottom">Top to Bottom</option>
                            <option value="to right">Left to Right</option>
                            <option value="to bottom right">Diagonal</option>
                        </select>
                    </div>
                    
                    <div id="imageControls" class="bg-controls hidden">
                        <input type="file" id="bgImageFile" accept="image/*">
                        <label>Fit:</label>
                        <select id="bgImageFit">
                            <option value="cover">Cover</option>
                            <option value="contain">Contain</option>
                            <option value="fill">Stretch</option>
                        </select>
                        <label>Opacity:</label>
                        <input type="range" id="bgImageOpacity" min="0" max="1" step="0.01" value="1">
                    </div>
                    
                    <div id="urlControls" class="bg-controls hidden">
                        <input type="text" id="bgImageUrl" placeholder="Enter image URL">
                        <button id="loadUrlBtn">Load</button>
                        <label>Fit:</label>
                        <select id="bgUrlFit">
                            <option value="cover">Cover</option>
                            <option value="contain">Contain</option>
                            <option value="fill">Stretch</option>
                        </select>
                        <label>Opacity:</label>
                        <input type="range" id="bgUrlOpacity" min="0" max="1" step="0.01" value="1">
                    </div>
                    
                    <div id="videoControls" class="bg-controls hidden">
                        <input type="file" id="bgVideoFile" accept="video/*">
                        <label>Loop:</label>
                        <input type="checkbox" id="bgVideoLoop" checked>
                        <label>Opacity:</label>
                        <input type="range" id="bgVideoOpacity" min="0" max="1" step="0.01" value="1">
                        <label>Blur:</label>
                        <input type="range" id="bgVideoBlur" min="0" max="20" value="0">
                    </div>
                </section>
                
                <section class="panel">
                    <h2>üéµ Step 3: Music (Optional)</h2>
                    <input type="file" id="musicFile" accept="audio/*">
                    <label>Start Time (s):</label>
                    <input type="number" id="musicStart" value="0" min="0" step="0.1">
                    <label>Volume:</label>
                    <input type="range" id="musicVolume" min="0" max="1" step="0.01" value="0.7">
                </section>
                
                <section class="panel">
                    <h2>‚úèÔ∏è Step 4: Text Items</h2>
                    <button id="addTextBtn">+ Add Text</button>
                    <div id="textList"></div>
                </section>
                
                <section class="panel priority-panel">
                    <h2>üé¨ Step 5: Export Video</h2>
                    <label>File Name:</label>
                    <input type="text" id="exportFileName" value="my-video" placeholder="Enter filename">
                    <small style="color: #888;">Final name: <span id="fileNamePreview">my-video-1920x1080-30fps.webm</span></small>
                    
                    <button id="exportBtn" class="btn-export">üìπ Export Video</button>
                    <div id="exportProgress"></div>
                </section>
                
            </div>
        </div>
        
        <div class="preview-area">
            <div class="preview-controls">
                <button id="playBtn">‚ñ∂ Play</button>
                <button id="pauseBtn">‚è∏ Pause</button>
                <button id="restartBtn">‚èÆ Restart</button>
                <span id="timeDisplay">0.0s</span>
            </div>
            <div id="previewWindow">
                <video id="bgVideo" loop muted></video>
                <div id="textContainer"></div>
            </div>
        </div>
    </div>
    
    <div id="textEditorModal" class="modal hidden">
        <div class="modal-content">
            <h2>Edit Text</h2>
            <div class="editor-toolbar">
                <button id="boldBtn" class="toolbar-btn" title="Bold (Ctrl+B)"><strong>B</strong></button>
                <button id="italicBtn" class="toolbar-btn" title="Italic (Ctrl+I)"><em>I</em></button>
                <div class="toolbar-divider"></div>
                <select id="editFont" class="toolbar-select">
                    <option value="Arial">Arial</option>
                    <option value="Helvetica">Helvetica</option>
                    <option value="Times New Roman">Times New Roman</option>
                    <option value="Courier New">Courier New</option>
                    <option value="Georgia">Georgia</option>
                    <option value="Verdana">Verdana</option>
                    <option value="Impact">Impact</option>
                </select>
                <input type="number" id="editSize" class="toolbar-input" min="10" max="200" value="32" title="Font Size">
                <div class="toolbar-divider"></div>
                <input type="color" id="editColor" class="toolbar-color" value="#ffffff" title="Text Color">
                <div class="toolbar-divider"></div>
                <button id="autoFillBtn" class="toolbar-btn-secondary">üìã Insert Example</button>
            </div>

            <div id="editTextContent" class="wysiwyg-editor" contenteditable="true" spellcheck="false"></div>
            
            <details class="settings-group" open>
                <summary>üìê Text Layout</summary>
                <div class="settings-content">
                    <div class="setting-row">
                        <label>Alignment</label>
                        <div class="button-group">
                            <button class="align-btn" data-align="left">‚¨ÖÔ∏è Left</button>
                            <button class="align-btn active" data-align="center">‚ÜîÔ∏è Center</button>
                            <button class="align-btn" data-align="right">‚û°Ô∏è Right</button>
                        </div>
                    </div>
                    
                    <div class="setting-row">
                        <label>Letter Spacing</label>
                        <input type="range" id="editLetterSpacing" min="-2" max="10" value="0" step="0.5">
                        <span class="value-display">0px</span>
                    </div>
                    
                    <div class="setting-row">
                        <label>Line Height</label>
                        <input type="range" id="editLineHeight" min="0.8" max="3" value="1.5" step="0.1">
                        <span class="value-display">1.5</span>
                    </div>
                </div>
            </details>

            <details class="settings-group">
                <summary>‚ú® Text Effects</summary>
                <div class="settings-content">
                    <div class="checkbox-row">
                        <input type="checkbox" id="editShadow">
                        <label for="editShadow">Drop Shadow</label>
                    </div>
                    
                    <div class="checkbox-row">
                        <input type="checkbox" id="editOutline">
                        <label for="editOutline">Text Outline</label>
                    </div>
                    
                    <div class="setting-row" id="outlineColorRow" style="display: none;">
                        <label>Outline Color</label>
                        <input type="color" id="editOutlineColor" value="#000000">
                    </div>
                </div>
            </details>
            
            <details class="settings-group" open>
                <summary>üé¨ Animation</summary>
                <div class="settings-content">
                    <div class="setting-row">
                        <label>Type</label>
            
                <select id="editAnimation">
                <option value="creditsScroll">Movie Credits Scroll</option>
                <option value="slideLeft">Slide In Left</option>
                <option value="slideRight">Slide In Right</option>
                <option value="fadeIn">Fade In</option>
                <option value="fadeInOut">Fade In + Out</option>
                <option value="typewriter">Typewriter</option>
                <option value="zoomIn">Zoom In</option>
                <option value="zoomOut">Zoom Out</option>
            </select>
                    </div>
                    
                    <div class="setting-row">
                        <label>Duration</label>
                        <input type="number" id="editDuration" value="3" step="0.1" min="0.1">
                        <span style="color: #888; font-size: 12px;">seconds</span>
                    </div>
                    
                    <div class="setting-row">
                        <label>Delay</label>
                        <input type="number" id="editDelay" value="0" step="0.1" min="0">
                        <span style="color: #888; font-size: 12px;">seconds</span>
                    </div>
                    
                    <div class="setting-row">
                        <label>Easing</label>
                        <select id="editEasing">
                            <option value="none">Linear</option>
                            <option value="power1.in">Ease In</option>
                            <option value="power1.out">Ease Out</option>
                            <option value="power1.inOut">Ease In-Out</option>
                        </select>
                    </div>
                </div>
            </details>
            
            <div style="display: flex; gap: 10px; margin-top: 20px; padding-top: 20px; border-top: 2px solid #444;">
                <button id="saveTextBtn" style="flex: 1;">Save</button>
                <button id="closeModalBtn" style="flex: 1;"> Close</button>
                <button id="deleteTextBtn" style="flex: 1;"> Delete</button>
            </div>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>
